{"version":3,"file":"static/js/891.8a15a55d.chunk.js","mappings":"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","sources":["components/SEO.js","components/ProductCard.js","pages/Products.js","utils/api.js"],"sourcesContent":["import React from \"react\";\nimport { Helmet } from \"react-helmet-async\";\n\nconst SEO = ({\n  title,\n  description,\n  keywords,\n  image,\n  url,\n  type = \"website\",\n  structuredData,\n  canonicalUrl,\n  noindex = false,\n}) => {\n  const siteName = \"Gicheha Farm Rongai\";\n  const defaultDescription =\n    \"Fresh, organic farm products delivered to your doorstep. Quality eggs, livestock, and vegetables from sustainable farming practices.\";\n  const defaultImage = \"/logo192.png\";\n  const baseUrl =\n    process.env.REACT_APP_BASE_URL || \"https://gicheha-farm.onrender.com\";\n\n  const fullTitle = title ? `${title} | ${siteName}` : siteName;\n  const fullDescription = description || defaultDescription;\n  const fullImage = image\n    ? image.startsWith(\"http\")\n      ? image\n      : `${baseUrl}${image}`\n    : `${baseUrl}${defaultImage}`;\n  const fullUrl = url ? `${baseUrl}${url}` : baseUrl;\n\n  return (\n    <Helmet>\n      {/* Basic meta tags */}\n      <title>{fullTitle}</title>\n      <meta name=\"description\" content={fullDescription} />\n      {keywords && <meta name=\"keywords\" content={keywords} />}\n\n      {/* Canonical URL */}\n      <link rel=\"canonical\" href={fullUrl} />\n\n      {/* Open Graph meta tags */}\n      <meta property=\"og:title\" content={fullTitle} />\n      <meta property=\"og:description\" content={fullDescription} />\n      <meta property=\"og:image\" content={fullImage} />\n      <meta property=\"og:url\" content={fullUrl} />\n      <meta property=\"og:type\" content={type} />\n      <meta property=\"og:site_name\" content={siteName} />\n\n      {/* Twitter Card meta tags */}\n      <meta name=\"twitter:card\" content=\"summary_large_image\" />\n      <meta name=\"twitter:title\" content={fullTitle} />\n      <meta name=\"twitter:description\" content={fullDescription} />\n      <meta name=\"twitter:image\" content={fullImage} />\n\n      {/* Additional SEO meta tags */}\n      <meta name=\"robots\" content=\"index, follow\" />\n      <meta name=\"author\" content=\"Gicheha Farm Rongai\" />\n      <meta name=\"language\" content=\"English\" />\n\n      {/* Structured Data */}\n      {structuredData && (\n        <script type=\"application/ld+json\">\n          {JSON.stringify(structuredData)}\n        </script>\n      )}\n    </Helmet>\n  );\n};\n\nexport default SEO;\n","import React, { useState } from \"react\";\nimport { FaShoppingCart, FaChevronLeft, FaChevronRight } from \"react-icons/fa\";\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\nimport \"react-lazy-load-image-component/src/effects/blur.css\";\n\nconst ProductCard = ({ product, onAddToCart }) => {\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\n  const images =\n    product.images && product.images.length > 0\n      ? product.images\n      : [\"https://via.placeholder.com/300x200?text=No+Image\"];\n\n  const nextImage = (e) => {\n    e.stopPropagation();\n    setCurrentImageIndex((prev) => (prev + 1) % images.length);\n  };\n\n  const prevImage = (e) => {\n    e.stopPropagation();\n    setCurrentImageIndex((prev) => (prev - 1 + images.length) % images.length);\n  };\n\n  return (\n    <div className=\"card group hover:shadow-lg transition-shadow duration-300\">\n      <div className=\"relative overflow-hidden rounded-t-lg\">\n        <LazyLoadImage\n          src={images[currentImageIndex]}\n          alt={product.name || \"Product\"}\n          className=\"w-full h-32 sm:h-40 md:h-48 object-contain group-hover:scale-105 transition-transform duration-300 bg-gray-50\"\n          effect=\"blur\"\n          placeholderSrc=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjRjNGNEY2Ii8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkxvYWRpbmcuLi48L3RleHQ+PC9zdmc+\"\n          threshold={100}\n        />\n        {images.length > 1 && (\n          <>\n            <button\n              onClick={prevImage}\n              className=\"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-1 rounded-full hover:bg-opacity-75 transition-opacity\"\n            >\n              <FaChevronLeft size={12} />\n            </button>\n            <button\n              onClick={nextImage}\n              className=\"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-1 rounded-full hover:bg-opacity-75 transition-opacity\"\n            >\n              <FaChevronRight size={12} />\n            </button>\n            <div className=\"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1\">\n              {images.map((_, index) => (\n                <div\n                  key={index}\n                  className={`w-2 h-2 rounded-full ${\n                    index === currentImageIndex\n                      ? \"bg-white\"\n                      : \"bg-white bg-opacity-50\"\n                  }`}\n                />\n              ))}\n            </div>\n          </>\n        )}\n        {product.inStock !== undefined && (\n          <div className=\"absolute top-2 right-2\">\n            <span\n              className={`px-2 py-1 text-xs font-medium rounded ${\n                product.inStock\n                  ? \"bg-green-100 text-green-800\"\n                  : \"bg-red-100 text-red-800\"\n              }`}\n            >\n              {product.inStock ? \"In Stock\" : \"Out of Stock\"}\n            </span>\n          </div>\n        )}\n      </div>\n\n      <div className=\"p-4\">\n        <h3 className=\"text-lg font-semibold text-secondary-800 mb-2\">\n          {product.name || \"Unnamed Product\"}\n        </h3>\n        {product.description && (\n          <p className=\"text-secondary-600 text-sm mb-3 line-clamp-2\">\n            {product.description}\n          </p>\n        )}\n\n        <div className=\"flex items-center justify-between mb-3\">\n          {product.price && (\n            <span className=\"text-2xl font-bold text-primary-600\">\n              KSh {product.price}\n            </span>\n          )}\n          {product.unit && (\n            <span className=\"text-sm text-secondary-500\">\n              {product.unit === \"single piece\" ? \"each\" : `per ${product.unit}`}\n            </span>\n          )}\n        </div>\n\n        <div className=\"flex items-center justify-between\">\n          {product.category && product.category !== \"\" && (\n            <span className=\"text-sm text-secondary-600 capitalize\">\n              {product.category}\n            </span>\n          )}\n          <button\n            onClick={() => onAddToCart && onAddToCart(product)}\n            className=\"btn-primary flex items-center space-x-2\"\n          >\n            <FaShoppingCart size={14} />\n            <span>Add to Cart</span>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductCard;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport api from \"../utils/api\";\nimport ProductCard from \"../components/ProductCard\";\nimport { FaSearch, FaFilter } from \"react-icons/fa\";\nimport { CartContext } from \"../context/CartContext\";\nimport { useCart } from \"../context/CartContext\";\nimport SEO from \"../components/SEO\";\n\nconst Products = () => {\n  const { addToCart } = useCart();\n  const [products, setProducts] = useState([]);\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [selectedCategory, setSelectedCategory] = useState(\"all\");\n  const [sortBy, setSortBy] = useState(\"name\");\n\n  const categories = [\"all\", \"eggs\", \"cows\", \"sheep\", \"goat\", \"vegetables\"];\n\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  useEffect(() => {\n    filterAndSortProducts();\n  }, [products, searchTerm, selectedCategory, sortBy]);\n\n  const fetchProducts = async () => {\n    try {\n      const response = await api.get(`/products?t=${Date.now()}`);\n      // Handle both array response (legacy) and object response with pagination\n      const productsData = response.data.products || response.data;\n      setProducts(Array.isArray(productsData) ? productsData : []);\n    } catch (error) {\n      console.error(\"Error fetching products:\", error);\n      setProducts([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const filterAndSortProducts = () => {\n    let filtered = products.filter((product) => {\n      const matchesSearch =\n        (product.name || \"\").toLowerCase().includes(searchTerm.toLowerCase()) ||\n        (product.description || \"\")\n          .toLowerCase()\n          .includes(searchTerm.toLowerCase());\n      const matchesCategory =\n        selectedCategory === \"all\" || product.category === selectedCategory;\n      return matchesSearch && matchesCategory;\n    });\n\n    // Sort products\n    filtered.sort((a, b) => {\n      switch (sortBy) {\n        case \"name\":\n          return (a.name || \"\").localeCompare(b.name || \"\");\n        case \"price-low\":\n          return (a.price || 0) - (b.price || 0);\n        case \"price-high\":\n          return (b.price || 0) - (a.price || 0);\n        case \"newest\":\n          return new Date(b.createdAt || 0) - new Date(a.createdAt || 0);\n        default:\n          return 0;\n      }\n    });\n\n    setFilteredProducts(filtered);\n  };\n\n  // Structured data for products\n  const productsStructuredData = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"ItemList\",\n    name: \"Gicheha Farm Products\",\n    description:\n      \"Fresh, organic farm products including eggs, livestock, and vegetables from sustainable farming practices.\",\n    url: \"https://gicheha-farm.onrender.com/public/products\",\n    numberOfItems: filteredProducts.length,\n    itemListElement: filteredProducts.slice(0, 10).map((product, index) => ({\n      \"@type\": \"Product\",\n      position: index + 1,\n      name: product.name,\n      description: product.description,\n      image: product.image\n        ? `https://gicheha-farm.onrender.com${product.image}`\n        : \"https://gicheha-farm.onrender.com/logo192.png\",\n      offers: {\n        \"@type\": \"Offer\",\n        price: product.price,\n        priceCurrency: \"KES\",\n        availability: product.inStock\n          ? \"https://schema.org/InStock\"\n          : \"https://schema.org/OutOfStock\",\n        seller: {\n          \"@type\": \"Organization\",\n          name: \"Gicheha Farm Rongai\",\n        },\n      },\n      brand: {\n        \"@type\": \"Brand\",\n        name: \"Gicheha Farm Rongai\",\n      },\n      category: product.category,\n      aggregateRating: product.rating\n        ? {\n            \"@type\": \"AggregateRating\",\n            ratingValue: product.rating,\n            reviewCount: product.reviewCount || 1,\n          }\n        : undefined,\n    })),\n  };\n\n  return (\n    <>\n      <SEO\n        title=\"Fresh Organic Products\"\n        description=\"Browse our wide range of fresh, organic farm products including eggs, livestock, and vegetables. Quality products from sustainable farming practices in Rongai, Kenya.\"\n        keywords=\"organic products, fresh eggs, livestock, vegetables, farm products, Rongai Kenya, sustainable farming, buy organic\"\n        url=\"/public/products\"\n        structuredData={productsStructuredData}\n      />\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Header */}\n        <div className=\"text-center mb-12\">\n          <h1 className=\"text-4xl font-bold text-secondary-800 mb-4\">\n            Our Products\n          </h1>\n          <p className=\"text-xl text-secondary-600 max-w-2xl mx-auto\">\n            Discover our wide range of fresh, organic products straight from our\n            farm to your table.\n          </p>\n        </div>\n\n        {/* Filters and Search */}\n        <div className=\"bg-white p-6 rounded-lg shadow-md mb-8\">\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            {/* Search */}\n            <div className=\"relative\">\n              <FaSearch className=\"absolute left-3 top-3 text-secondary-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search products...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"input-field pl-10\"\n              />\n            </div>\n\n            {/* Category Filter */}\n            <div>\n              <select\n                value={selectedCategory}\n                onChange={(e) => setSelectedCategory(e.target.value)}\n                className=\"input-field\"\n              >\n                {categories.map((category) => (\n                  <option key={category} value={category}>\n                    {category === \"all\"\n                      ? \"All Categories\"\n                      : category.charAt(0).toUpperCase() + category.slice(1)}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            {/* Sort */}\n            <div>\n              <select\n                value={sortBy}\n                onChange={(e) => setSortBy(e.target.value)}\n                className=\"input-field\"\n              >\n                <option value=\"name\">Sort by Name</option>\n                <option value=\"price-low\">Price: Low to High</option>\n                <option value=\"price-high\">Price: High to Low</option>\n                <option value=\"newest\">Newest First</option>\n              </select>\n            </div>\n\n            {/* Results Count */}\n            <div className=\"flex items-center text-secondary-600\">\n              <FaFilter className=\"mr-2\" />\n              <span>{filteredProducts.length} products</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Products Grid */}\n        {loading ? (\n          <div className=\"text-center py-12\">\n            <div className=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600\"></div>\n            <p className=\"mt-4 text-secondary-600\">Loading products...</p>\n          </div>\n        ) : filteredProducts.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <p className=\"text-secondary-600 text-lg\">\n              No products found matching your criteria.\n            </p>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n            {filteredProducts.map((product) => (\n              <ProductCard\n                key={product._id}\n                product={product}\n                onAddToCart={addToCart}\n              />\n            ))}\n          </div>\n        )}\n\n        {/* Product Categories Info */}\n        <section className=\"mt-16 bg-secondary-50 rounded-lg p-8\">\n          <h2 className=\"text-2xl font-bold text-secondary-800 mb-6 text-center\">\n            Product Categories\n          </h2>\n          <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\n            {categories.slice(1).map((category) => (\n              <button\n                key={category}\n                onClick={() => setSelectedCategory(category)}\n                className={`p-4 rounded-lg text-center transition-colors ${\n                  selectedCategory === category\n                    ? \"bg-primary-600 text-white\"\n                    : \"bg-white text-secondary-700 hover:bg-primary-50\"\n                }`}\n              >\n                <div className=\"font-semibold capitalize\">{category}</div>\n                <div className=\"text-sm opacity-75\">\n                  {\n                    products.filter((p) => (p.category || \"\") === category)\n                      .length\n                  }{\" \"}\n                  items\n                </div>\n              </button>\n            ))}\n          </div>\n        </section>\n      </div>\n    </>\n  );\n};\n\nexport default Products;\n","import axios from \"axios\";\n\n// Create axios instance\nconst api = axios.create({\n  baseURL: process.env.REACT_APP_API_URL || \"http://localhost:5000/api\",\n  withCredentials: true, // Important for cookies\n  headers: {\n    \"Cache-Control\": \"no-cache\",\n    Pragma: \"no-cache\",\n    Expires: \"0\",\n  },\n});\n\n// Request interceptor to add access token\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem(\"accessToken\");\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => Promise.reject(error)\n);\n\n// Response interceptor to handle token refresh\napi.interceptors.response.use(\n  (response) => response,\n  async (error) => {\n    const originalRequest = error.config;\n\n    if (\n      error.response?.status === 401 &&\n      error.response?.data?.code === \"TOKEN_EXPIRED\" &&\n      !originalRequest._retry\n    ) {\n      originalRequest._retry = true;\n\n      try {\n        // Attempt to refresh token\n        const refreshResponse = await axios.post(\n          `${api.defaults.baseURL}/admin/refresh-token`,\n          {},\n          { withCredentials: true }\n        );\n\n        const { accessToken } = refreshResponse.data;\n\n        // Store new access token\n        localStorage.setItem(\"accessToken\", accessToken);\n\n        // Retry original request with new token\n        originalRequest.headers.Authorization = `Bearer ${accessToken}`;\n        return api(originalRequest);\n      } catch (refreshError) {\n        // Refresh failed, redirect to login\n        localStorage.removeItem(\"accessToken\");\n        // Instead of redirecting, just reject the error to let the component handle it\n        return Promise.reject(refreshError);\n      }\n    }\n\n    return Promise.reject(error);\n  }\n);\n\nexport default api;\n"],"names":["_ref","title","description","keywords","image","url","type","structuredData","canonicalUrl","noindex","siteName","baseUrl","process","REACT_APP_BASE_URL","fullTitle","concat","fullDescription","fullImage","startsWith","fullUrl","_jsxs","Helmet","children","_jsx","name","content","rel","href","property","JSON","stringify","product","onAddToCart","currentImageIndex","setCurrentImageIndex","useState","images","length","className","LazyLoadImage","src","alt","effect","placeholderSrc","threshold","_Fragment","onClick","e","stopPropagation","prev","FaChevronLeft","size","FaChevronRight","map","_","index","undefined","inStock","price","unit","category","FaShoppingCart","Products","addToCart","useCart","products","setProducts","filteredProducts","setFilteredProducts","loading","setLoading","searchTerm","setSearchTerm","selectedCategory","setSelectedCategory","sortBy","setSortBy","categories","useEffect","fetchProducts","filterAndSortProducts","async","response","api","get","Date","now","productsData","data","Array","isArray","error","console","filtered","filter","matchesSearch","toLowerCase","includes","matchesCategory","sort","a","b","localeCompare","createdAt","productsStructuredData","numberOfItems","itemListElement","slice","position","offers","priceCurrency","availability","seller","brand","aggregateRating","rating","ratingValue","reviewCount","SEO","FaSearch","placeholder","value","onChange","target","charAt","toUpperCase","FaFilter","ProductCard","_id","p","axios","create","baseURL","REACT_APP_API_URL","withCredentials","headers","Pragma","Expires","interceptors","request","use","config","token","localStorage","getItem","Authorization","Promise","reject","_error$response","_error$response2","_error$response2$data","originalRequest","status","code","_retry","refreshResponse","post","defaults","accessToken","setItem","refreshError","removeItem"],"sourceRoot":""}
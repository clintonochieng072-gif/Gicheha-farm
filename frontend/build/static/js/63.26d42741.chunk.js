"use strict";(self.webpackChunkgicheha_farm_frontend=self.webpackChunkgicheha_farm_frontend||[]).push([[63],{63:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var s=a(555),r=a(43),n=a(862),i=a(500),o=a(774),c=a(208),l=a(579);const m=()=>{const[e,t]=(0,r.useState)([]),[a,m]=(0,r.useState)(!0),[d,x]=(0,r.useState)({name:"",message:"",rating:5}),[h,u]=(0,r.useState)(!1),[g,p]=(0,r.useState)("");(0,r.useEffect)(()=>{y()},[]);const y=async()=>{try{const e=await n.A.get("/testimonials?t=".concat(Date.now()));t(Array.isArray(e.data)?e.data:[])}catch(e){console.error("Error fetching testimonials:",e),t([])}finally{m(!1)}},b=e=>{const{name:t,value:a}=e.target;x((0,s.A)((0,s.A)({},d),{},{[t]:a}))},j=e.length>0?(e.reduce((e,t)=>e+t.rating,0)/e.length).toFixed(1):0,f={"@context":"https://schema.org","@type":"WebPage",name:"Customer Testimonials - Gicheha Farm Rongai",description:"Read what our satisfied customers say about our fresh, organic farm products and exceptional service.",url:"https://gicheha-farm.onrender.com/public/testimonials",mainEntity:{"@type":"Organization",name:"Gicheha Farm Rongai",aggregateRating:e.length>0?{"@type":"AggregateRating",ratingValue:j,reviewCount:e.length,bestRating:"5",worstRating:"1"}:void 0,review:e.slice(0,10).map(e=>({"@type":"Review",author:{"@type":"Person",name:e.name},reviewRating:{"@type":"Rating",ratingValue:e.rating,bestRating:"5",worstRating:"1"},reviewBody:e.message,datePublished:e.createdAt||(new Date).toISOString().split("T")[0]}))}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.A,{title:"Customer Testimonials & Reviews",description:"Read ".concat(e.length," customer testimonials and reviews about Gicheha Farm Rongai's fresh, organic products. Average rating: ").concat(j," stars."),keywords:"customer testimonials, farm reviews, organic products feedback, customer satisfaction, Rongai Kenya farm reviews, fresh produce testimonials",url:"/public/testimonials",structuredData:f}),(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,l.jsxs)("div",{className:"text-center mb-12",children:[(0,l.jsx)("h1",{className:"text-4xl font-bold text-secondary-800 mb-4",children:"Customer Testimonials"}),(0,l.jsx)("p",{className:"text-xl text-secondary-600 max-w-2xl mx-auto",children:"Hear what our satisfied customers have to say about our fresh, organic products."}),e.length>0&&(0,l.jsx)("div",{className:"flex items-center justify-center mt-4",children:(0,l.jsxs)("div",{className:"flex items-center space-x-2 bg-primary-50 px-4 py-2 rounded-lg",children:[(0,l.jsx)("div",{className:"flex items-center",children:[...Array(5)].map((e,t)=>(0,l.jsx)(o.gt3,{className:"".concat(t<Math.floor(j)?"text-yellow-400":"text-secondary-300"),size:16},t))}),(0,l.jsx)("span",{className:"font-semibold text-secondary-800",children:j}),(0,l.jsxs)("span",{className:"text-secondary-600",children:["(",e.length," reviews)"]})]})})]}),a?(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),(0,l.jsx)("p",{className:"mt-4 text-secondary-600",children:"Loading testimonials..."})]}):0===e.length?(0,l.jsx)("div",{className:"text-center py-12",children:(0,l.jsx)("p",{className:"text-secondary-600 text-lg",children:"No testimonials yet. Be the first to share your experience!"})}):(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:e.map(e=>(0,l.jsx)(i.A,{testimonial:e},e._id))}),(0,l.jsx)("div",{className:"bg-secondary-50 rounded-lg p-8",children:(0,l.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)(o.JwJ,{className:"text-primary-600 text-4xl mx-auto mb-4"}),(0,l.jsx)("h2",{className:"text-3xl font-bold text-secondary-800 mb-4",children:"Share Your Experience"}),(0,l.jsx)("p",{className:"text-secondary-600",children:"We'd love to hear about your experience with Gicheha Farm products. Your feedback helps us improve and helps other customers make informed decisions."})]}),g&&(0,l.jsx)("div",{className:"mb-6 p-4 rounded-lg ".concat(g.includes("Error")?"bg-red-100 text-red-700 border border-red-400":"bg-green-100 text-green-700 border border-green-400"),children:g}),(0,l.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u(!0),p("");try{await n.A.post("/testimonials",d),p("Thank you for your testimonial! It will be reviewed before being published."),x({name:"",message:"",rating:5})}catch(t){p("Error submitting testimonial. Please try again."),console.error("Error submitting testimonial:",t)}finally{u(!1)}},className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-secondary-700 mb-2",children:"Your Name *"}),(0,l.jsx)("input",{type:"text",id:"name",name:"name",value:d.name,onChange:b,className:"input-field",required:!0,placeholder:"Enter your full name"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"rating",className:"block text-sm font-medium text-secondary-700 mb-2",children:"Rating *"}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[[1,2,3,4,5].map(e=>(0,l.jsx)("button",{type:"button",onClick:()=>x((0,s.A)((0,s.A)({},d),{},{rating:e})),className:"focus:outline-none",children:(0,l.jsx)(o.gt3,{className:"".concat(e<=d.rating?"text-yellow-400":"text-secondary-300"," hover:text-yellow-400 transition-colors"),size:24})},e)),(0,l.jsxs)("span",{className:"ml-2 text-secondary-600",children:["(",d.rating," star",1!==d.rating?"s":"",")"]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"message",className:"block text-sm font-medium text-secondary-700 mb-2",children:"Your Testimonial *"}),(0,l.jsx)("textarea",{id:"message",name:"message",value:d.message,onChange:b,rows:4,className:"input-field resize-none",required:!0,placeholder:"Tell us about your experience with our products..."})]}),(0,l.jsx)("div",{className:"text-center",children:(0,l.jsx)("button",{type:"submit",className:"btn-primary px-8 py-3",disabled:h,children:h?"Submitting...":"Submit Testimonial"})})]}),(0,l.jsx)("p",{className:"text-sm text-secondary-500 text-center mt-4",children:"* Your testimonial will be reviewed before being published on our website."})]})})]})]})}},208:(e,t,a)=>{a.d(t,{A:()=>n});a(43);var s=a(490),r=a(579);const n=e=>{let{title:t,description:a,keywords:n,image:i,url:o,type:c="website",structuredData:l,canonicalUrl:m,noindex:d=!1}=e;const x="Gicheha Farm Rongai",h={NODE_ENV:"production",PUBLIC_URL:"/public",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BASE_URL||"https://gicheha-farm.onrender.com",u=t?"".concat(t," | ").concat(x):x,g=a||"Fresh, organic farm products delivered to your doorstep. Quality eggs, livestock, and vegetables from sustainable farming practices.",p=i?i.startsWith("http")?i:"".concat(h).concat(i):"".concat(h).concat("/logo192.png"),y=o?"".concat(h).concat(o):h;return(0,r.jsxs)(s.mg,{children:[(0,r.jsx)("title",{children:u}),(0,r.jsx)("meta",{name:"description",content:g}),n&&(0,r.jsx)("meta",{name:"keywords",content:n}),(0,r.jsx)("link",{rel:"canonical",href:y}),(0,r.jsx)("meta",{property:"og:title",content:u}),(0,r.jsx)("meta",{property:"og:description",content:g}),(0,r.jsx)("meta",{property:"og:image",content:p}),(0,r.jsx)("meta",{property:"og:url",content:y}),(0,r.jsx)("meta",{property:"og:type",content:c}),(0,r.jsx)("meta",{property:"og:site_name",content:x}),(0,r.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,r.jsx)("meta",{name:"twitter:title",content:u}),(0,r.jsx)("meta",{name:"twitter:description",content:g}),(0,r.jsx)("meta",{name:"twitter:image",content:p}),(0,r.jsx)("meta",{name:"robots",content:"index, follow"}),(0,r.jsx)("meta",{name:"author",content:"Gicheha Farm Rongai"}),(0,r.jsx)("meta",{name:"language",content:"English"}),l&&(0,r.jsx)("script",{type:"application/ld+json",children:JSON.stringify(l)})]})}},500:(e,t,a)=>{a.d(t,{A:()=>n});a(43);var s=a(774),r=a(579);const n=e=>{let{testimonial:t}=e;return(0,r.jsxs)("div",{className:"card",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[t.image?(0,r.jsx)("img",{src:t.image,alt:t.name,className:"w-12 h-12 rounded-full object-cover"}):(0,r.jsx)("div",{className:"w-12 h-12 rounded-full bg-primary-100 flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-primary-600 font-semibold text-lg",children:t.name.charAt(0).toUpperCase()})}),(0,r.jsxs)("div",{children:[t.name&&(0,r.jsx)("h4",{className:"font-semibold text-secondary-800",children:t.name}),t.rating&&(0,r.jsx)("div",{className:"flex items-center space-x-1",children:(a=t.rating,Array.from({length:5},(e,t)=>(0,r.jsx)(s.gt3,{className:"".concat(t<a?"text-yellow-400":"text-secondary-300"),size:16},t)))})]})]}),t.message&&(0,r.jsxs)("blockquote",{className:"text-secondary-600 italic",children:['"',t.message,'"']})]});var a}},862:(e,t,a)=>{a.d(t,{A:()=>n});var s=a(722);const r=s.A.create({baseURL:{NODE_ENV:"production",PUBLIC_URL:"/public",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000/api",withCredentials:!0,headers:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}});r.interceptors.request.use(e=>{const t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),r.interceptors.response.use(e=>e,async e=>{var t,a,n;const i=e.config;if(401===(null===(t=e.response)||void 0===t?void 0:t.status)&&"TOKEN_EXPIRED"===(null===(a=e.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.code)&&!i._retry){i._retry=!0;try{const e=await s.A.post("".concat(r.defaults.baseURL,"/admin/refresh-token"),{},{withCredentials:!0}),{accessToken:t}=e.data;return localStorage.setItem("accessToken",t),i.headers.Authorization="Bearer ".concat(t),r(i)}catch(o){return localStorage.removeItem("accessToken"),Promise.reject(o)}}return Promise.reject(e)});const n=r}}]);
//# sourceMappingURL=63.26d42741.chunk.js.map
"use strict";(self.webpackChunkgicheha_farm_frontend=self.webpackChunkgicheha_farm_frontend||[]).push([[891],{208:(e,t,a)=>{a.d(t,{A:()=>c});a(43);var s=a(490),r=a(579);const c=e=>{let{title:t,description:a,keywords:c,image:n,url:o,type:i="website",structuredData:l,canonicalUrl:d,noindex:m=!1}=e;const g="Gicheha Farm Rongai",p={NODE_ENV:"production",PUBLIC_URL:"/public",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BASE_URL||"https://gicheha-farm.onrender.com",h=t?"".concat(t," | ").concat(g):g,u=a||"Fresh, organic farm products delivered to your doorstep. Quality eggs, livestock, and vegetables from sustainable farming practices.",x=n?n.startsWith("http")?n:"".concat(p).concat(n):"".concat(p).concat("/logo192.png"),j=o?"".concat(p).concat(o):p;return(0,r.jsxs)(s.mg,{children:[(0,r.jsx)("title",{children:h}),(0,r.jsx)("meta",{name:"description",content:u}),c&&(0,r.jsx)("meta",{name:"keywords",content:c}),(0,r.jsx)("link",{rel:"canonical",href:j}),(0,r.jsx)("meta",{property:"og:title",content:h}),(0,r.jsx)("meta",{property:"og:description",content:u}),(0,r.jsx)("meta",{property:"og:image",content:x}),(0,r.jsx)("meta",{property:"og:url",content:j}),(0,r.jsx)("meta",{property:"og:type",content:i}),(0,r.jsx)("meta",{property:"og:site_name",content:g}),(0,r.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,r.jsx)("meta",{name:"twitter:title",content:h}),(0,r.jsx)("meta",{name:"twitter:description",content:u}),(0,r.jsx)("meta",{name:"twitter:image",content:x}),(0,r.jsx)("meta",{name:"robots",content:"index, follow"}),(0,r.jsx)("meta",{name:"author",content:"Gicheha Farm Rongai"}),(0,r.jsx)("meta",{name:"language",content:"English"}),l&&(0,r.jsx)("script",{type:"application/ld+json",children:JSON.stringify(l)})]})}},364:(e,t,a)=>{a.d(t,{A:()=>o});var s=a(43),r=a(774),c=a(634),n=(a(580),a(579));const o=e=>{let{product:t,onAddToCart:a}=e;const[o,i]=(0,s.useState)(0),l=t.images&&t.images.length>0?t.images:["https://via.placeholder.com/300x200?text=No+Image"];return(0,n.jsxs)("div",{className:"card group hover:shadow-lg transition-shadow duration-300",children:[(0,n.jsxs)("div",{className:"relative overflow-hidden rounded-t-lg",children:[(0,n.jsx)(c.LazyLoadImage,{src:l[o],alt:t.name||"Product",className:"w-full h-32 sm:h-40 md:h-48 object-contain group-hover:scale-105 transition-transform duration-300 bg-gray-50",effect:"blur",placeholderSrc:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjRjNGNEY2Ii8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkxvYWRpbmcuLi48L3RleHQ+PC9zdmc+",threshold:100}),l.length>1&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:e=>{e.stopPropagation(),i(e=>(e-1+l.length)%l.length)},className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-1 rounded-full hover:bg-opacity-75 transition-opacity",children:(0,n.jsx)(r._Jj,{size:12})}),(0,n.jsx)("button",{onClick:e=>{e.stopPropagation(),i(e=>(e+1)%l.length)},className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-1 rounded-full hover:bg-opacity-75 transition-opacity",children:(0,n.jsx)(r.X6T,{size:12})}),(0,n.jsx)("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1",children:l.map((e,t)=>(0,n.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(t===o?"bg-white":"bg-white bg-opacity-50")},t))})]}),void 0!==t.inStock&&(0,n.jsx)("div",{className:"absolute top-2 right-2",children:(0,n.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded ".concat(t.inStock?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:t.inStock?"In Stock":"Out of Stock"})})]}),(0,n.jsxs)("div",{className:"p-4",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-secondary-800 mb-2",children:t.name||"Unnamed Product"}),t.description&&(0,n.jsx)("p",{className:"text-secondary-600 text-sm mb-3 line-clamp-2",children:t.description}),(0,n.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[t.price&&(0,n.jsxs)("span",{className:"text-2xl font-bold text-primary-600",children:["KSh ",t.price]}),t.unit&&(0,n.jsx)("span",{className:"text-sm text-secondary-500",children:"single piece"===t.unit?"each":"per ".concat(t.unit)})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[t.category&&""!==t.category&&(0,n.jsx)("span",{className:"text-sm text-secondary-600 capitalize",children:t.category}),(0,n.jsxs)("button",{onClick:()=>a&&a(t),className:"btn-primary flex items-center space-x-2",children:[(0,n.jsx)(r.AsH,{size:14}),(0,n.jsx)("span",{children:"Add to Cart"})]})]})]})]})}},471:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var s=a(43),r=a(862),c=a(364),n=a(774),o=a(169),i=a(208),l=a(579);const d=()=>{const{addToCart:e}=(0,o._)(),[t,a]=(0,s.useState)([]),[d,m]=(0,s.useState)([]),[g,p]=(0,s.useState)(!0),[h,u]=(0,s.useState)(""),[x,j]=(0,s.useState)("all"),[y,b]=(0,s.useState)("name"),f=["all","eggs","cows","sheep","goat","vegetables"];(0,s.useEffect)(()=>{v()},[]),(0,s.useEffect)(()=>{w()},[t,h,x,y]);const v=async()=>{try{const e=await r.A.get("/products?t=".concat(Date.now())),t=e.data.products||e.data;a(Array.isArray(t)?t:[])}catch(e){console.error("Error fetching products:",e),a([])}finally{p(!1)}},w=()=>{let e=t.filter(e=>{const t=(e.name||"").toLowerCase().includes(h.toLowerCase())||(e.description||"").toLowerCase().includes(h.toLowerCase()),a="all"===x||e.category===x;return t&&a});e.sort((e,t)=>{switch(y){case"name":return(e.name||"").localeCompare(t.name||"");case"price-low":return(e.price||0)-(t.price||0);case"price-high":return(t.price||0)-(e.price||0);case"newest":return new Date(t.createdAt||0)-new Date(e.createdAt||0);default:return 0}}),m(e)},N={"@context":"https://schema.org","@type":"ItemList",name:"Gicheha Farm Products",description:"Fresh, organic farm products including eggs, livestock, and vegetables from sustainable farming practices.",url:"https://gicheha-farm.onrender.com/public/products",numberOfItems:d.length,itemListElement:d.slice(0,10).map((e,t)=>({"@type":"Product",position:t+1,name:e.name,description:e.description,image:e.image?"https://gicheha-farm.onrender.com".concat(e.image):"https://gicheha-farm.onrender.com/logo192.png",offers:{"@type":"Offer",price:e.price,priceCurrency:"KES",availability:e.inStock?"https://schema.org/InStock":"https://schema.org/OutOfStock",seller:{"@type":"Organization",name:"Gicheha Farm Rongai"}},brand:{"@type":"Brand",name:"Gicheha Farm Rongai"},category:e.category,aggregateRating:e.rating?{"@type":"AggregateRating",ratingValue:e.rating,reviewCount:e.reviewCount||1}:void 0}))};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.A,{title:"Fresh Organic Products",description:"Browse our wide range of fresh, organic farm products including eggs, livestock, and vegetables. Quality products from sustainable farming practices in Rongai, Kenya.",keywords:"organic products, fresh eggs, livestock, vegetables, farm products, Rongai Kenya, sustainable farming, buy organic",url:"/public/products",structuredData:N}),(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,l.jsxs)("div",{className:"text-center mb-12",children:[(0,l.jsx)("h1",{className:"text-4xl font-bold text-secondary-800 mb-4",children:"Our Products"}),(0,l.jsx)("p",{className:"text-xl text-secondary-600 max-w-2xl mx-auto",children:"Discover our wide range of fresh, organic products straight from our farm to your table."})]}),(0,l.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(n.KSO,{className:"absolute left-3 top-3 text-secondary-400"}),(0,l.jsx)("input",{type:"text",placeholder:"Search products...",value:h,onChange:e=>u(e.target.value),className:"input-field pl-10"})]}),(0,l.jsx)("div",{children:(0,l.jsx)("select",{value:x,onChange:e=>j(e.target.value),className:"input-field",children:f.map(e=>(0,l.jsx)("option",{value:e,children:"all"===e?"All Categories":e.charAt(0).toUpperCase()+e.slice(1)},e))})}),(0,l.jsx)("div",{children:(0,l.jsxs)("select",{value:y,onChange:e=>b(e.target.value),className:"input-field",children:[(0,l.jsx)("option",{value:"name",children:"Sort by Name"}),(0,l.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,l.jsx)("option",{value:"price-high",children:"Price: High to Low"}),(0,l.jsx)("option",{value:"newest",children:"Newest First"})]})}),(0,l.jsxs)("div",{className:"flex items-center text-secondary-600",children:[(0,l.jsx)(n.YsJ,{className:"mr-2"}),(0,l.jsxs)("span",{children:[d.length," products"]})]})]})}),g?(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),(0,l.jsx)("p",{className:"mt-4 text-secondary-600",children:"Loading products..."})]}):0===d.length?(0,l.jsx)("div",{className:"text-center py-12",children:(0,l.jsx)("p",{className:"text-secondary-600 text-lg",children:"No products found matching your criteria."})}):(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:d.map(t=>(0,l.jsx)(c.A,{product:t,onAddToCart:e},t._id))}),(0,l.jsxs)("section",{className:"mt-16 bg-secondary-50 rounded-lg p-8",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-secondary-800 mb-6 text-center",children:"Product Categories"}),(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:f.slice(1).map(e=>(0,l.jsxs)("button",{onClick:()=>j(e),className:"p-4 rounded-lg text-center transition-colors ".concat(x===e?"bg-primary-600 text-white":"bg-white text-secondary-700 hover:bg-primary-50"),children:[(0,l.jsx)("div",{className:"font-semibold capitalize",children:e}),(0,l.jsxs)("div",{className:"text-sm opacity-75",children:[t.filter(t=>(t.category||"")===e).length," ","items"]})]},e))})]})]})]})}},862:(e,t,a)=>{a.d(t,{A:()=>c});var s=a(722);const r=s.A.create({baseURL:{NODE_ENV:"production",PUBLIC_URL:"/public",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000/api",withCredentials:!0,headers:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}});r.interceptors.request.use(e=>{const t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),r.interceptors.response.use(e=>e,async e=>{var t,a,c;const n=e.config;if(401===(null===(t=e.response)||void 0===t?void 0:t.status)&&"TOKEN_EXPIRED"===(null===(a=e.response)||void 0===a||null===(c=a.data)||void 0===c?void 0:c.code)&&!n._retry){n._retry=!0;try{const e=await s.A.post("".concat(r.defaults.baseURL,"/admin/refresh-token"),{},{withCredentials:!0}),{accessToken:t}=e.data;return localStorage.setItem("accessToken",t),n.headers.Authorization="Bearer ".concat(t),r(n)}catch(o){return localStorage.removeItem("accessToken"),Promise.reject(o)}}return Promise.reject(e)});const c=r}}]);
//# sourceMappingURL=891.8a15a55d.chunk.js.map
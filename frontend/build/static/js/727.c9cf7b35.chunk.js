"use strict";(self.webpackChunkgicheha_farm_frontend=self.webpackChunkgicheha_farm_frontend||[]).push([[727],{727:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var r=a(43),s=a(862),n=a(579);const o=()=>{const[e,t]=(0,r.useState)(""),[a,o]=(0,r.useState)(!1),[c,i]=(0,r.useState)("");return(0,n.jsxs)("div",{className:"max-w-md mx-auto card",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold text-center mb-6",children:"Reset Password"}),c&&(0,n.jsx)("div",{className:"px-4 py-3 rounded mb-4 ".concat(c.includes("sent")?"bg-green-100 border border-green-400 text-green-700":"bg-red-100 border border-red-400 text-red-700"),children:c}),(0,n.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),o(!0),i("");try{await s.A.post("/admin/forgot-password",{email:e}),i("If an account with that email exists, a password reset link has been sent.")}catch(a){i("Failed to send reset email. Please try again.")}finally{o(!1)}},children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-secondary-700 mb-2",children:"Email Address"}),(0,n.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>t(e.target.value),className:"input-field",placeholder:"Enter your email",required:!0})]}),(0,n.jsx)("button",{type:"submit",className:"w-full btn-primary mb-4",disabled:a,children:a?"Sending...":"Send Reset Link"})]}),(0,n.jsx)("button",{onClick:()=>window.history.back(),className:"w-full text-primary-600 hover:text-primary-800 text-sm underline",children:"Back to Login"})]})}},862:(e,t,a)=>{a.d(t,{A:()=>n});var r=a(722);const s=r.A.create({baseURL:{NODE_ENV:"production",PUBLIC_URL:"/public",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000/api",withCredentials:!0,headers:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}});s.interceptors.request.use(e=>{const t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),s.interceptors.response.use(e=>e,async e=>{var t,a,n;const o=e.config;if(401===(null===(t=e.response)||void 0===t?void 0:t.status)&&"TOKEN_EXPIRED"===(null===(a=e.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.code)&&!o._retry){o._retry=!0;try{const e=await r.A.post("".concat(s.defaults.baseURL,"/admin/refresh-token"),{},{withCredentials:!0}),{accessToken:t}=e.data;return localStorage.setItem("accessToken",t),o.headers.Authorization="Bearer ".concat(t),s(o)}catch(c){return localStorage.removeItem("accessToken"),Promise.reject(c)}}return Promise.reject(e)});const n=s}}]);
//# sourceMappingURL=727.c9cf7b35.chunk.js.map